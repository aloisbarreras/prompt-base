## Usage

See the [examples folder](./examples) for more detailed usage examples.

```js
var Prompt = require('{%= name %}');
var prompt = new Prompt({
  name: 'color',
  message: 'What is your favorite color?'
});

prompt.run()
  .then(function(answer) {
    console.log(answer);
  })
```

## API
{%= apidocs("index.js") %}

## Examples

**Instantiate**

The main purpose of this library is to serve as a base for other libraries to create custom prompt types. _However, the main export is a function that can be instantiated to run basic "input" prompts_.  

```js
var Prompt = require('{%= name %}');
var prompt = new Prompt({
  name: 'first',
  message: 'What is your name?'
});

// callback
prompt.ask(function(answer) {
  console.log(answer);
  //=> 'Jon'
});

// promise
prompt.run()
  .then(function(answers) {
    console.log(answers);
    //=> {first: 'Jon'}
  });
```


**Inherit**



```js
var Prompt = require('{%= name %}');

function CustomPrompt(/*question, answers, rl*/) {
  Prompt.apply(this, arguments);
}

Prompt.extend(CustomPrompt);
```

## Overview

**How it works**

1. Run
  - When
  - Render
1. Events/Actions
  - Validate
  - Transform
  - Submit

## Debugging

Debugging readline issues can be a pain. If you're experiencing something that seems like a bug, please [let us know about it](../../issues). If you happen to be in the  mood for debugging, here are some suggestions and/or places to look to help you figure out what's happening.

**Tips**

- call `process.exit()` after logging out the value as you're debugging. This not only stops the process immediately, letting you know if the method was even executed, but it's also more likely to make whatever you're logging out visible  before it's overwritten by the readline
- Wrap the value in an array: like `console.log([foo])` instead of `console.log(foo)`. I do this when debugging just about anything, as it forces the value to be rendered literally, instead of being formatted as output for the terminal.

**In prompt-base (this module)**:

Log out the `answer` value or any variants, like `this.answer`, or `input` in methods like `onSubmit`, and `submitAnswer`.

```js
console.log([this.answer]);
// etc...
```

In the `.action` method, log out the arguments object:

```js
utils.action = function(state, str, key) {
  console.log([arguments]);
  process.exit();
  // other code
};
```

**[readline-utils][]**

In the `.normalize` method in [readline-utils][], log out the arguments object:

```js
utils.normalize = function(s, key) {
  console.log([arguments]);
  process.exit();
  // other code
};
```

**[readline-ui][]**

Log out the `keypress` events in the listener.


**Misc**

In libraries with `prompt-*` or `readline-*`, or `enquirer-*` in the name, look for places where something is `.emit`ing, or listening with `.on` or `.only` (which simply wraps `.on` to ensure that events aren't stacked when nested prompts are called), and log out the value there. 

## In the wild

The following custom prompts were created using this library:

{%= related(verb.related.prompts) %}

[rl]: https://nodejs.org/api/readline.html#readline_rl_write_data_key
